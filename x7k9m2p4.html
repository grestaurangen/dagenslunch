<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Golf Restaurangen Skellefteå | Admin</title>
  <link rel="stylesheet" href="style.css?v=2" />
</head>
<body data-page="admin">
  <header class="site-header">
    <div class="branding">
      <img src="assets/llogo.png" alt="Golf Restaurangen Skellefteå Logo" class="site-logo" />
      <div class="branding-text">
        <h1>Administrera veckans lunch</h1>
        <p>Logga in för att välja dagens luncher och lägga till nya rätter.</p>
      </div>
    </div>
    <nav class="header-actions">
      <a class="text-link" href="index.html">Publik sida</a>
    </nav>
  </header>

  <main>
    <section id="admin-login" class="card">
      <h2>Admininloggning</h2>
      <p>Logga in med ditt administratörskonto för att göra ändringar.</p>
      <form id="login-form" class="stacked-form">
        <label for="admin-email">E-post</label>
        <input type="email" id="admin-email" autocomplete="username" required />

        <label for="admin-pass">Lösenord</label>
        <input type="password" id="admin-pass" autocomplete="current-password" required />

        <button type="submit" class="button primary">Logga in</button>
        <p class="helper-text">Kontot hanteras via Firebase Authentication.</p>
        <p id="login-error" class="error-text" role="alert" hidden>Fel inloggning, försök igen.</p>
      </form>
    </section>

    <section id="admin-panel" class="card admin-panel" hidden>
      <div class="panel-header">
        <div>
          <h2>Veckoplanering</h2>
          <p>Välj vecka och koppla luncher till måndag–fredag.</p>
        </div>
        <button id="logout-btn" class="button ghost">Logga ut</button>
      </div>

      <form id="week-form" class="stacked-form">
        <label for="week-picker">Veckonummer</label>
        <select id="week-picker" required></select>

        <div class="weekday-grid">
          <div class="weekday-field">
            <label for="monday-select">Måndag</label>
            <select id="monday-select" data-day="monday"></select>
          </div>
          <div class="weekday-field">
            <label for="tuesday-select">Tisdag</label>
            <select id="tuesday-select" data-day="tuesday"></select>
          </div>
          <div class="weekday-field">
            <label for="wednesday-select">Onsdag</label>
            <select id="wednesday-select" data-day="wednesday"></select>
          </div>
          <div class="weekday-field">
            <label for="thursday-select">Torsdag</label>
            <select id="thursday-select" data-day="thursday"></select>
          </div>
          <div class="weekday-field">
            <label for="friday-select">Fredag</label>
            <select id="friday-select" data-day="friday"></select>
          </div>
        </div>

        <button type="submit" class="button primary">Spara vecka</button>
        <p id="week-feedback" class="success-text" hidden>Veckans meny sparades!</p>
      </form>
    </section>

    <section id="pricing-settings" class="card" hidden>
      <h2>Priser</h2>
      <p>Ange gällande pris för lunch samt pensionärspris. Gäller för alla rätter.</p>
      <form id="pricing-form" class="stacked-form">
        <label for="pricing-regular">
          Ordinarie pris
          <input id="pricing-regular" type="text" placeholder="t.ex. 129 kr" />
        </label>

        <label for="pricing-senior">
          Pensionärspris
          <input id="pricing-senior" type="text" placeholder="t.ex. 109 kr" />
        </label>

        <button type="submit" class="button secondary">Spara priser</button>
        <p id="pricing-feedback" class="success-text" hidden>Priser sparade!</p>
      </form>
    </section>

    <section id="edit-lunch" class="card" hidden>
      <h2>Redigera befintlig lunch</h2>
      <p>Välj en lunch från listan för att uppdatera eller ta bort den.</p>
      <form id="edit-lunch-form" class="stacked-form">
        <label for="edit-lunch-select">Välj lunch</label>
        <select id="edit-lunch-select">
          <option value="">— Välj lunch att redigera —</option>
        </select>
        <p id="edit-lunch-helper" class="helper-text"></p>

        <label for="edit-lunch-title">Titel</label>
        <input id="edit-lunch-title" required />

        <label for="edit-lunch-detail">Detaljer</label>
        <textarea id="edit-lunch-detail" rows="2" required></textarea>

        <label for="edit-lunch-allergens">Allergen info</label>
        <input id="edit-lunch-allergens" placeholder="t.ex. Gluten, Laktos" />

        <label class="checkbox-label">
          <input type="checkbox" id="edit-lunch-senior-visible" />
          <span>Visa pensionärspris för denna rätt</span>
        </label>

        <label class="checkbox-label">
          <input type="checkbox" id="edit-lunch-has-instagram" />
          <span>Länka till Instagram-inlägg</span>
        </label>

        <label for="edit-lunch-instagram-url" id="edit-lunch-instagram-label" style="display: none;">
          Instagram-länk
          <input id="edit-lunch-instagram-url" type="url" placeholder="https://www.instagram.com/p/..." />
        </label>

        <div class="button-row">
          <button type="submit" id="edit-save-btn" class="button secondary">Spara ändringar</button>
          <button type="button" id="edit-delete-btn" class="button ghost">Ta bort lunch</button>
        </div>
        <p id="edit-lunch-feedback" class="success-text" hidden>Ändringar sparade!</p>
      </form>
    </section>

    <section id="closed-override" class="card" hidden>
      <h2>Stängd / Meddelande</h2>
      <p>När aktiverat, visar detta meddelande istället för dagens lunch på startsidan.</p>
      <form id="closed-form" class="stacked-form">
        <label class="checkbox-label">
          <input type="checkbox" id="closed-persistent-checkbox" />
          <span>Stängt tillsvidare</span>
        </label>

        <label class="checkbox-label">
          <input type="checkbox" id="closed-checkbox" />
          <span>Stängd idag</span>
        </label>

        <label for="closed-message">Meddelande</label>
        <textarea id="closed-message" rows="3" placeholder="t.ex. Stängt idag på grund av..."></textarea>

        <button type="submit" class="button secondary">Spara meddelande</button>
        <p id="closed-feedback" class="success-text" hidden>Meddelande sparad!</p>
      </form>
    </section>

    <section id="new-lunch" class="card" hidden>
      <h2>Lägg till ny lunch</h2>
      <p>Ny rätter blir tillgängliga i listorna ovan direkt.</p>
      <form id="new-lunch-form" class="stacked-form">
        <label for="lunch-title">Titel</label>
        <input id="lunch-title" required />

        <label for="lunch-detail">Detaljer</label>
        <textarea id="lunch-detail" rows="2" required></textarea>

        <label for="lunch-allergens">Allergen info</label>
        <input id="lunch-allergens" placeholder="t.ex. Glutenfri, Laktosfri" />

        <label class="checkbox-label">
          <input type="checkbox" id="lunch-senior-visible" checked />
          <span>Visa pensionärspris för denna rätt</span>
        </label>

        <label class="checkbox-label">
          <input type="checkbox" id="lunch-has-instagram" />
          <span>Länka till Instagram-inlägg</span>
        </label>

        <label for="lunch-instagram-url" id="lunch-instagram-label" style="display: none;">
          Instagram-länk
          <input id="lunch-instagram-url" type="url" placeholder="https://www.instagram.com/p/..." />
        </label>

        <button type="submit" class="button secondary">Lägg till lunch</button>
        <p id="new-lunch-feedback" class="success-text" hidden>Ny lunch sparad!</p>
      </form>
    </section>
  </main>

  <footer>
    <p>© 2025 Golf Restaurangen Skellefteå</p>
  </footer>

  <script type="module" src="script.js?v=5"></script>
</body>
</html>

